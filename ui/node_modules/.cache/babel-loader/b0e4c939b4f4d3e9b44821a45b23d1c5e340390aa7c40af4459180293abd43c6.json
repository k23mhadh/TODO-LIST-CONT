{"ast":null,"code":"import{Button,Layout,List,Menu}from\"antd\";import{PlusOutlined}from'@ant-design/icons';import{apiClient}from\"./api-client\";import{useEffect,useState}from\"react\";import{ListForm}from\"./ListForm\";import{TodoForm}from\"./TodoForm\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Header,Content,Sider}=Layout;export default function App(){const[lists,setLists]=useState([]);const[selectedList,setSelectedList]=useState(null);const[showListForm,setShowListForm]=useState(false);const[showTodoForm,setShowTodoForm]=useState(false);const[selectedListItems,setSelectedListItems]=useState([]);useEffect(()=>{apiClient.getLists().then(response=>{const lists=response.data.map(list=>list.id);setLists(lists);});},[]);useEffect(()=>{if(selectedList){apiClient.getTodos(selectedList).then(setSelectedListItems);}},[selectedList]);const handleItemClick=key=>{if(key==='add'){setSelectedList(null);setShowListForm(true);}else{setSelectedList(key);}};// TODO: fix any, use type from API\nconst items=lists.map(list=>({key:list,label:list}));function handleListAdded(listName){apiClient.addList(listName).then(result=>{setLists(prevItems=>[...prevItems,result]);});setShowListForm(false);}function handleTodoAdded(todoVal){if(selectedList){apiClient.addTodo(selectedList,todoVal).then(setSelectedListItems);}setShowTodoForm(false);}return/*#__PURE__*/_jsxs(Layout,{style:{minHeight:'100vh'},children:[/*#__PURE__*/_jsx(Header,{style:{display:'flex',alignItems:'center',color:'white'},children:\"TODO LISTS\"}),/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(Sider,{width:200,style:{background:'black'},children:/*#__PURE__*/_jsx(Menu,{theme:\"dark\",mode:\"inline\",items:[{key:'add',label:'Add list',icon:/*#__PURE__*/_jsx(PlusOutlined,{})},...items],onClick:e=>handleItemClick(e.key)})}),/*#__PURE__*/_jsxs(Content,{style:{padding:24,margin:0,minHeight:280},children:[showListForm&&/*#__PURE__*/_jsx(ListForm,{onListAdded:handleListAdded}),selectedList&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowTodoForm(true),children:\"Add Todo\"}),/*#__PURE__*/_jsx(List,{dataSource:selectedListItems,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",item.nom,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",item.description,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",item.status]})})})]}),!selectedList&&!showListForm&&/*#__PURE__*/_jsx(\"div\",{children:\"Select a list\"}),showTodoForm&&/*#__PURE__*/_jsx(TodoForm,{onTodoAdded:handleTodoAdded})]})]})]});}","map":{"version":3,"names":["Button","Layout","List","Menu","PlusOutlined","apiClient","useEffect","useState","ListForm","TodoForm","jsx","_jsx","jsxs","_jsxs","Header","Content","Sider","App","lists","setLists","selectedList","setSelectedList","showListForm","setShowListForm","showTodoForm","setShowTodoForm","selectedListItems","setSelectedListItems","getLists","then","response","data","map","list","id","getTodos","handleItemClick","key","items","label","handleListAdded","listName","addList","result","prevItems","handleTodoAdded","todoVal","addTodo","style","minHeight","children","display","alignItems","color","width","background","theme","mode","icon","onClick","e","padding","margin","onListAdded","dataSource","renderItem","item","Item","nom","description","status","onTodoAdded"],"sources":["/home/kaies/Desktop/todo-list/ui/src/App.tsx"],"sourcesContent":["import { Button, Layout, List, Menu, MenuProps } from \"antd\";\nimport { PlusOutlined } from '@ant-design/icons';\nimport { apiClient } from \"./api-client\";\nimport { useEffect, useState } from \"react\";\nimport { ListForm } from \"./ListForm\";\nimport { TodoForm } from \"./TodoForm\";\nimport { IItem, ITodoList } from '../interfaces';\n\n\nconst { Header, Content, Sider } = Layout;\n\n\ntype MenuItem = Required<MenuProps>['items'][number];\n\nexport default function App() {\n  const [lists, setLists] = useState<string[]>([]);\n  const [selectedList, setSelectedList] = useState<string | null>(null);\n  const [showListForm, setShowListForm] = useState(false);\n  const [showTodoForm, setShowTodoForm] = useState(false);\n  const [selectedListItems, setSelectedListItems] = useState<IItem[]>([]);\n  useEffect(() => {\n    apiClient.getLists().then((response) => {\n      const lists = response.data.map((list :ITodoList) => list.id);\n      setLists(lists);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (selectedList) {\n      apiClient.getTodos(selectedList).then(setSelectedListItems);\n    }\n  }, [selectedList]);\n\n  const handleItemClick = (key: string) => {\n    if (key === 'add') {\n      setSelectedList(null);\n      setShowListForm(true);\n    } else {\n      setSelectedList(key);\n    }\n  }\n  \n  // TODO: fix any, use type from API\n  const items: MenuItem[] = lists.map((list: string) => ({\n    key: list,\n    label: list\n  }));\n\n  function handleListAdded(listName: string): void {\n    apiClient.addList(listName).then((result) => {\n      setLists((prevItems) => [...prevItems, result])\n    });\n    setShowListForm(false);\n  }\n\n  function handleTodoAdded(todoVal: {todo:string, description:string,status:string}): void {\n    if (selectedList) {\n      apiClient.addTodo(selectedList, todoVal).then(setSelectedListItems);\n      \n  }\n    setShowTodoForm(false);\n  }\n\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <Header style={{ display: 'flex', alignItems: 'center', color: 'white' }}>\n          TODO LISTS\n      </Header>\n      <Layout>\n        <Sider width={200} style={{ background: 'black' }}>\n          <Menu\n            theme=\"dark\"\n            mode=\"inline\"\n            items={[{key: 'add', label: 'Add list', icon: <PlusOutlined />}, ...items]}\n            onClick={(e) => handleItemClick(e.key)}\n          />\n        </Sider>\n        <Content\n          style={{\n          padding: 24,\n          margin: 0,\n          minHeight: 280,\n          }}    \n        >\n          {showListForm && <ListForm onListAdded={handleListAdded} />}\n          {selectedList && \n            <div>\n              <Button onClick={() => setShowTodoForm(true)}>Add Todo</Button>\n              <List\n                dataSource={selectedListItems}\n                renderItem={(item) => <List.Item> \n                  <div>\n                    <strong>Name:</strong> {item.nom} <br />\n                    <strong>Description:</strong> {item.description}<br />\n                    <strong>Status:</strong> {item.status} \n                  </div>\n                </List.Item>}\n              />\n            </div>\n          }\n          {!selectedList && !showListForm && <div>Select a list</div>}    \n          {showTodoForm && <TodoForm onTodoAdded={handleTodoAdded} />}\n        </Content>\n      </Layout>\n    </Layout>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}