{"ast":null,"code":"import{Button,Layout,List,Menu}from\"antd\";import{PlusOutlined}from'@ant-design/icons';import{apiClient}from\"./api-client\";import{useEffect,useState}from\"react\";import{ListForm}from\"./ListForm\";import{TodoForm}from\"./TodoForm\";import'./Styles/Style.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Header,Content,Sider}=Layout;export default function App(){const[lists,setLists]=useState([]);const[selectedList,setSelectedList]=useState(null);const[showListForm,setShowListForm]=useState(false);const[showTodoForm,setShowTodoForm]=useState(false);const[selectedListItems,setSelectedListItems]=useState([]);useEffect(()=>{apiClient.getLists().then(response=>{const lists=response.data.map(list=>list.id);setLists(lists);});},[]);useEffect(()=>{if(selectedList){apiClient.getTodos(selectedList).then(setSelectedListItems);}},[selectedList]);const handleItemClick=key=>{if(key==='add'){setSelectedList(null);setShowListForm(true);}else{setSelectedList(key);}};const handleButtonClick=(key,itemId,selectedList)=>{//edit or delete button\nif(key==='edit'){console.log('edit');}else{apiClient.delTodo(itemId,selectedList).then(setSelectedListItems);}};// TODO: fix any, use type from API\nconst items=lists.map(list=>({key:list,label:list}));function handleListAdded(listName){apiClient.addList(listName).then(result=>{setLists(prevItems=>[...prevItems,result]);});setShowListForm(false);}function handleTodoAdded(todoVal){if(selectedList){apiClient.addTodo(selectedList,todoVal).then(setSelectedListItems);}setShowTodoForm(false);}return/*#__PURE__*/_jsxs(Layout,{style:{minHeight:'100vh'},children:[/*#__PURE__*/_jsx(Header,{style:{display:'flex',alignItems:'center',color:'white'},children:\"TODO LISTS\"}),/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(Sider,{width:200,style:{background:'black'},children:/*#__PURE__*/_jsx(Menu,{theme:\"dark\",mode:\"inline\",items:[{key:'add',label:'Add list',icon:/*#__PURE__*/_jsx(PlusOutlined,{})},...items],onClick:e=>handleItemClick(e.key)})}),/*#__PURE__*/_jsxs(Content,{style:{padding:24,margin:0,minHeight:280},children:[showListForm&&/*#__PURE__*/_jsx(ListForm,{onListAdded:handleListAdded}),selectedList&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowTodoForm(true),children:\"Add Todo\"}),/*#__PURE__*/_jsx(List,{dataSource:selectedListItems,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",item.nom,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",item.description,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",item.status]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(Button,{className:\"edit-button\",onClick:()=>handleButtonClick(\"edit\",item.id,selectedList),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{className:\"delete-button\",onClick:()=>handleButtonClick(\"delete\",item.id,selectedList),children:\"Delete\"})]})]})})})]}),!selectedList&&!showListForm&&/*#__PURE__*/_jsx(\"div\",{children:\"Select a list\"}),showTodoForm&&/*#__PURE__*/_jsx(TodoForm,{onTodoAdded:handleTodoAdded})]})]})]});}","map":{"version":3,"names":["Button","Layout","List","Menu","PlusOutlined","apiClient","useEffect","useState","ListForm","TodoForm","jsx","_jsx","jsxs","_jsxs","Header","Content","Sider","App","lists","setLists","selectedList","setSelectedList","showListForm","setShowListForm","showTodoForm","setShowTodoForm","selectedListItems","setSelectedListItems","getLists","then","response","data","map","list","id","getTodos","handleItemClick","key","handleButtonClick","itemId","console","log","delTodo","items","label","handleListAdded","listName","addList","result","prevItems","handleTodoAdded","todoVal","addTodo","style","minHeight","children","display","alignItems","color","width","background","theme","mode","icon","onClick","e","padding","margin","onListAdded","dataSource","renderItem","item","Item","className","nom","description","status","onTodoAdded"],"sources":["/home/kaies/Desktop/todo-list/ui/src/App.tsx"],"sourcesContent":["import { Button, Layout, List, Menu, MenuProps } from \"antd\";\nimport { PlusOutlined } from '@ant-design/icons';\nimport { apiClient } from \"./api-client\";\nimport { useEffect, useState } from \"react\";\nimport { ListForm } from \"./ListForm\";\nimport { TodoForm } from \"./TodoForm\";\nimport { IItem, ITodoList } from '../interfaces';\nimport './Styles/Style.css';\n\nconst { Header, Content, Sider } = Layout;\n\n\ntype MenuItem = Required<MenuProps>['items'][number];\n\nexport default function App() {\n  const [lists, setLists] = useState<string[]>([]);\n  const [selectedList, setSelectedList] = useState<string | null>(null);\n  const [showListForm, setShowListForm] = useState(false);\n  const [showTodoForm, setShowTodoForm] = useState(false);\n  const [selectedListItems, setSelectedListItems] = useState<IItem[]>([]);\n  useEffect(() => {\n    apiClient.getLists().then((response) => {\n      const lists = response.data.map((list: ITodoList) => list.id);\n      setLists(lists);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (selectedList) {\n      apiClient.getTodos(selectedList).then(setSelectedListItems);\n    }\n  }, [selectedList]);\n\n  const handleItemClick = (key: string) => {\n    if (key === 'add') {\n      setSelectedList(null);\n      setShowListForm(true);\n    } else {\n      setSelectedList(key);\n    }\n  }\n\n  const handleButtonClick = (key:string,itemId:string,selectedList:string) => { //edit or delete button\n    if(key ==='edit'){\n      console.log('edit')\n    }else{\n      apiClient.delTodo(itemId,selectedList).then(setSelectedListItems);\n    }\n  }\n\n\n  // TODO: fix any, use type from API\n  const items: MenuItem[] = lists.map((list: string) => ({\n    key: list,\n    label: list\n  }));\n\n  function handleListAdded(listName: string): void {\n    apiClient.addList(listName).then((result) => {\n      setLists((prevItems) => [...prevItems, result])\n    });\n    setShowListForm(false);\n  }\n\n  function handleTodoAdded(todoVal: { todo: string, description: string, status: string }): void {\n    if (selectedList) {\n      apiClient.addTodo(selectedList, todoVal).then(setSelectedListItems);\n\n    }\n    setShowTodoForm(false);\n  }\n\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <Header style={{ display: 'flex', alignItems: 'center', color: 'white' }}>\n        TODO LISTS\n      </Header>\n      <Layout>\n        <Sider width={200} style={{ background: 'black' }}>\n          <Menu\n            theme=\"dark\"\n            mode=\"inline\"\n            items={[{ key: 'add', label: 'Add list', icon: <PlusOutlined /> }, ...items]}\n            onClick={(e) => handleItemClick(e.key)}\n          />\n        </Sider>\n        <Content\n          style={{\n            padding: 24,\n            margin: 0,\n            minHeight: 280,\n          }}\n        >\n          {showListForm && <ListForm onListAdded={handleListAdded} />}\n          {selectedList &&\n            <div>\n              <Button onClick={() => setShowTodoForm(true)}>Add Todo</Button>\n              <List\n                dataSource={selectedListItems}\n                renderItem={(item) => <List.Item>\n                  <div className=\"item-container\">\n                    <div className=\"text-content\">\n                      <strong>Name:</strong> {item.nom} <br />\n                      <strong>Description:</strong> {item.description}<br />\n                      <strong>Status:</strong> {item.status}\n                    </div>\n                    <div className=\"button-container\">\n                      <Button className=\"edit-button\" onClick={() => handleButtonClick(\"edit\",item.id,selectedList)}>Edit</Button>\n                      <Button className=\"delete-button\" onClick={() => handleButtonClick(\"delete\",item.id,selectedList)}>Delete</Button>\n                    </div>\n                  </div>\n\n                </List.Item>}\n              />\n            </div>\n          }\n          {!selectedList && !showListForm && <div>Select a list</div>}\n          {showTodoForm && <TodoForm onTodoAdded={handleTodoAdded} />}\n        </Content>\n      </Layout>\n    </Layout>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}